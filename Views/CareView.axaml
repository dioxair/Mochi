<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Mochi.ViewModels"
             mc:Ignorable="d" d:DesignWidth="405" d:DesignHeight="620"
             x:Class="Mochi.Views.CareView"
             x:DataType="vm:CareViewModel">

    <Design.DataContext>
        <vm:CareViewModel />
    </Design.DataContext>

    <StackPanel Spacing="20" Margin="20,24" HorizontalAlignment="Stretch">

        <TextBlock Text="{Binding PetName, StringFormat='Care for {0}'}"
                   FontSize="24" FontWeight="Bold"
                   HorizontalAlignment="Center" />

        <!-- Action Grid (2 x 2) -->
        <UniformGrid Columns="2" Rows="2" Margin="8,8">
            <Button Command="{Binding FeedCommand}" Classes="careBtn" Margin="6">
                <StackPanel Spacing="6" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="&#x1F357;" FontSize="36" HorizontalAlignment="Center" />
                    <TextBlock Text="Feed" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" />
                    <TextBlock Text="{Binding FeedCooldownText}"
                               FontSize="11" Foreground="Gray"
                               HorizontalAlignment="Center"
                               IsVisible="{Binding FeedCooldownText, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />
                </StackPanel>
            </Button>

            <Button Command="{Binding PlayCommand}" Classes="careBtn" Margin="6">
                <StackPanel Spacing="6" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="&#x1F3BE;" FontSize="36" HorizontalAlignment="Center" />
                    <TextBlock Text="Play" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" />
                    <TextBlock Text="{Binding PlayCooldownText}"
                               FontSize="11" Foreground="Gray"
                               HorizontalAlignment="Center"
                               IsVisible="{Binding PlayCooldownText, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />
                </StackPanel>
            </Button>

            <Button Command="{Binding SleepCommand}" Classes="careBtn" Margin="6">
                <StackPanel Spacing="6" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="&#x1F4A4;" FontSize="36" HorizontalAlignment="Center" />
                    <TextBlock Text="{Binding SleepButtonLabel}" FontSize="14" FontWeight="SemiBold"
                               HorizontalAlignment="Center" />
                    <TextBlock Text="{Binding SleepCooldownText}"
                               FontSize="11" Foreground="Gray"
                               HorizontalAlignment="Center"
                               IsVisible="{Binding SleepCooldownText, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />
                </StackPanel>
            </Button>

            <Button Command="{Binding CleanCommand}" Classes="careBtn" Margin="6">
                <StackPanel Spacing="6" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="&#x1F6C1;" FontSize="36" HorizontalAlignment="Center" />
                    <TextBlock Text="Clean" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" />
                    <TextBlock Text="{Binding CleanCooldownText}"
                               FontSize="11" Foreground="Gray"
                               HorizontalAlignment="Center"
                               IsVisible="{Binding CleanCooldownText, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />
                </StackPanel>
            </Button>
        </UniformGrid>

        <!-- Status Message -->
        <Border Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                CornerRadius="12"
                Padding="16,12"
                Margin="8,0">
            <TextBlock Text="{Binding LastActionMessage}"
                       TextWrapping="Wrap"
                       FontSize="14"
                       HorizontalAlignment="Center"
                       TextAlignment="Center" />
        </Border>

    </StackPanel>
</UserControl>